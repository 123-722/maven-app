pipeline {
    agent any
    stages {
        stage("Build") {
            steps {
                sh 'mvn install'
            }
        }
        stage("Test") {
            steps {
                sh "mvn test"
            }
        }
        stage("CompiledandRunSonarAnalysis") {
            steps{
                sh 'mvn clean verify sonar:sonar -Dsonar.projectkey=hackdossier -Dsonar.organization=hackdossier -Dsonar.host.url=https://sonarcloud.io/ -Dsonar.token=ec9cdb38d5e716f14385f39185bd601de93c0ae1'
            }
        }
    }
}
