pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                // Assuming you are using Git. Adjust for other VCS.
                git 'https://github.com/thedevopsdays/Demo-Project.git'
            }
        }

        stage('Maven Compile') {
            steps {
                // You may need to adjust the path to your pom.xml file.
                script {
                    def mvnHome = tool 'Maven'
                    def mavenHome = "${mvnHome}/bin/"

                    // Use 'sh' for Unix-like systems, 'bat' for Windows.
                    if (isUnix()) {
                        sh "${mavenHome}/mvn clean compile"
                    } else {
                        bat "${mavenHome}\\mvn clean compile"
                    }
                }
            }
        }
    }

    post {
        success {
            echo 'Build and compilation successful!'
            // Add additional steps or notifications for successful build
        }
        failure {
            echo 'Build failed! Check the Jenkins console output for details.'
            // Add additional steps or notifications for failed build
        }
    }
}
